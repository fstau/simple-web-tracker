function uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0,v;return("x"==c?r:3&r|8).toString(16)}))}function getCookie(cname){for(var name=cname+"=",decodedCookie,ca=decodeURIComponent(document.cookie).split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""}function setCookie(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"}function getLocalStorage(e){return window.localStorage[e]}function initTracker(baseUri,cname,allowTracker){let tracker={initUser:function(){getCookie(cname)?setCookie(cname,"",0):"true"==getLocalStorage(allowTracker)?setCookie(cname,uuidv4(),90):setCookie(cname,"",0)},trackCustom:function(e,d){fetch(`${baseUri}/v1/tracking/custom?cts=${Date.now()}&e=${e}&d=${d}&uid=${getCookie(cname)}`).then(r=>r.text())},trackPageView:function(d){fetch(`${baseUri}/v1/tracking/pageview?cts=${Date.now()}&d=${d}&uid=${getCookie(cname)}`).then(r=>r.text())},trackClick:function(d){fetch(`${baseUri}/v1/tracking/click?cts=${Date.now()}&d=${d}&uid=${getCookie(cname)}`).then(r=>r.text())},initUserWithPageView:function(d){tracker.initUser(),tracker.trackPageView(d)}};return tracker.initUser(),tracker}